<html>

<head>
	<title>LTR RSPNSV SHP</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" type="text/css" href="fonts.css">

	<script src="snap.svg.js"></script>
	<script src="mathShape.js"></script>
	<script src="jquery-1.11.2.min.js"></script>
	<style>

		a{	color: white;
			font-family: "LTRCondensedNo2-Grade1";
			text-decoration: none;
			font-size: 2em;
		}
		a:hover{
			font-family: "LTRCondensedNo2-Grade3";
		}
		@media screen {
			/*two boxes next to each other*/
			#svgcontainer1{
				position: absolute;
				margin-top:3vh;
				margin-left:20px;
				height: 94vh;
				width: calc(100% - 240px); 
				border-width: 1px; border-style: dashed; border-color: red;
			}
			#heyheyhey{
				position: absolute;
				margin-top:0;
				margin-left: calc(100% - 200px); 
				height: 100vh;
				width: 200px; 
				padding: 1em;
			}
		}

	</style>
</head>

<body>
 	<div id="svgcontainer1">
		<svg id="mathShape1" title="test"
			viewBox="0 0 1000 1000"
			enable-background="0 0 1000 1000"
			width="100%"
			xmlns="http://www.w3.org/2000/svg"@
			xmlns:xlink="http://www.w3.org/1999/xlink"
			xml:space="preserve"
			style="fill-rule:non-zero;clip-rule:nonzero;stroke-linejoin:round;stroke-miterlimit:1.41421;">
		</svg>
	</div>

	<script>
		// tools
		// convenience, select random item from list.
		(function($) {
			$.rand = function(arg) {
			if ($.isArray(arg)) {
				return arg[$.rand(arg.length)];
			} else if (typeof arg === "number") {
				return Math.floor(Math.random() * arg);
			} else {
					return 4;  // chosen by fair dice roll
				}
			};
			})(jQuery);

		var doAnimation=true;
		var animateStepSize = 0.05;
		var breathShape1 = 0;
		var breathShape2 = 0;

		// make the mathShape instances for this page.
		var availableShapes = [
			'mathimagebiga_ms',
			'mathimagebigcurves_ms',
			'mathimagebigh_ms',
			'mathshapearrowright_ms',
			'mathshapeboxwithletter_ms',
			'mathshaperandomdots_ms',
			'mathshapetypelablogo_ms',
			'mathshapediagonal_ms',
			'mathimagecounterx_ms',
			'mathshapesa_ms',
			'mathshapele_ms',
			'mathshapereference_ms',
			'mathshapearrowtall_ms',
			'mathshapearrowwide_ms',
			'mathshapeselectingarrow_ms',
			'mathshapedancingasterisk_ms',
			'mathshapeexcellence_ms',
			'mathshapeltr_ms',
			'mathshapeltrwider_ms',
			"jamwriter_ms",
			'morgann_ms',
			'needleeames_ms',
			'pitagorasuichi_ms',
			];
		var shapeIndex = 0;

		var availableColors = ['white', 'gray', 'red', 'orange'];
		var selectedImage = $.rand(availableShapes);

		var myMathShape1 = new MathShape("#mathShape1",availableShapes[shapeIndex] );
		myMathShape1.setFill($.rand(availableColors), 0.25);

		var selectShapeFromList = function(){
			myMathShape1 = new MathShape("#mathShape1",availableShapes[shapeIndex] );
			myMathShape1.loadFromWeb();
			myMathShape1.setFill($.rand(availableColors), 0.25);
		}


		selectShapeFromList();

		// recalculate the image factors when resizing
		$(window).resize(function() {
			myMathShape1.calculateFactors();
		});

		// make the images breathe.
		// entirely optional but definitely entertaining
		setInterval(function () { 
			$('#fps').html("fps <span class='value'>"+fps.getFPS()+"</span>");
			myMathShape1.updateReporter()
			if(doAnimation){
				breathShape1 += animateStepSize;
				myMathShape1.breathe(0.5*Math.sin(breathShape1*Math.PI)+0.5)
			}
		}, 50);

		// controls
		var reloadCurrent = function(){
			// reload the current image
			console.log("reloadCurrent", shapeIndex);
			this.selectShapeFromList();
		}
		var selectPrevious = function(){
			// select next image from the available shapes.
			if(availableShapes.length==0){
				return;
			}
			var l = availableShapes.length;
			shapeIndex-=1;
			if(shapeIndex<0){
				shapeIndex=l-1;
			}
			console.log("selectPrevious", shapeIndex);
			this.selectShapeFromList();
		}
		var selectNext = function(){
			// select next image from the available shapes.
			if(availableShapes.length==0){
				return;
			}
			var l = availableShapes.length;
			shapeIndex+=1;
			if(shapeIndex>=l){
				shapeIndex=0;
			}
			console.log("selectNext", shapeIndex);
			this.selectShapeFromList();
		}
		var selectRandom = function(){
			if(availableShapes.length==0){
				return;
			}
			var l = availableShapes.length;
			var newIndex = randomIntFromInterval(0,l);
			if(newIndex==shapeIndex){
				// we really want a new one
				newIndex+=1;
				if(newIndex>=l){
					newIndex=0;
				}
			}
			shapeIndex=newIndex;
			console.log("selectRandom", shapeIndex);
			this.selectShapeFromList();
		}
		var animateSwitch = function(){
			console.log("animateSwitch");
			doAnimation=!doAnimation;
		}
		var showPlayMin = function(){
			console.log("showPlayMin");
			doAnimation=false;
			myMathShape1.breathe(0);
		}
		var showPlayMax = function(){
			console.log("showPlayMax");
			doAnimation=false;
			myMathShape1.breathe(1);
		}
		var showBoing = function(){
			console.log("showBoing");
			doAnimation=false;
			myMathShape1.breathe(Math.random());
		}
		var faster = function(){
			animateStepSize*=1.05;
			if(animateStepSize>1){
				animateStepSize=1;
			}
			console.log("faster", animateStepSize);
			doAnimation=true;
		}
		var slower = function(){
			animateStepSize/=1.05;
			if(animateStepSize<0){
				animateStepSize=0;
			}
			console.log("slower", animateStepSize);
			doAnimation=true;
		}

		// tools
		var fps = {
			startTime : 0,
			frameNumber : 0,
			getFPS : function(){
				this.frameNumber++;
				var d = new Date().getTime(),
					currentTime = ( d - this.startTime ) / 1000,
					result = Math.floor( ( this.frameNumber / currentTime ) );

				if( currentTime > 1 ){
					this.startTime = new Date().getTime();
					this.frameNumber = 0;
				}
				return result;

			}	
};
</script>


	<div id="heyheyhey">
		<h1>LTR<br>Responsive<br>Shape</h1>

		<p id="mathShapeName">&nbsp;</p>


		<p>
		<a href="#" id="selectPrevious" onclick="selectPrevious();">previous</a>
		<br><a href="#" id="selectRandom" onclick="selectRandom();">random</a>
		<br><a href="#" id="reload" onclick="reloadCurrent();">reload</a>
		<br><a href="#" id="selectNext" onclick="selectNext();">next</a>
		</p>


		<p>
		<a href="#" id="animateSwitch" onclick="animateSwitch();">move</a>
		<br><a href="#" id="showPlayMin" onclick="showPlayMin();">min</a>
		<br><a href="#" id="showPlayMax" onclick="showPlayMax();">max</a>
		<br><a href="#" id="showBoing" onclick="showBoing();">boing</a>
		<br><a href="#" id="faster" onclick="faster();">faster</a>
		<br><a href="#" id="slower" onclick="slower();">slower</a>
		</p>

		
		<p id="fps">Aa</p>
		<p id="mathShapeReporter"></p>
		<p id="mathShapeImage">&nbsp;</p>
		<p id="mathShapeMasterBounds">&nbsp;</p>
		<p id="mathShapeExtrapolate">&nbsp;</p>
		<p id="mathShapeRatio">&nbsp;</p>
		</div>
	</div>



</body>
</html>